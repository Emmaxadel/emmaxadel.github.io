<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nigeria Malaria Sentiment Analysis - Twitter Data Analysis & Geospatial Visualization">
    <title>Malaria Sentiment Analysis | Emmanuel Adeleye</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">Emmanuel Adeleye</div>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="index.html#home" class="nav-link">Home</a></li>
                <li><a href="index.html#about" class="nav-link">About</a></li>
                <li><a href="index.html#skills" class="nav-link">Skills</a></li>
                <li><a href="index.html#projects" class="nav-link">Projects</a></li>
                <li><a href="index.html#contact" class="nav-link">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Project Header -->
    <section class="project-header">
        <div class="container">
            <a href="index.html#projects" class="back-link">
                <i class="fas fa-arrow-left"></i> Back to Projects
            </a>
            <h1 class="project-title-main">Nigeria Malaria Sentiment Analysis</h1>
            <p class="project-subtitle">Geospatial Sentiment Analysis using Twitter Data & Python</p>
            <div class="project-meta">
                <span><i class="fas fa-calendar"></i> January 2026</span>
                <span><i class="fas fa-tag"></i> Data Science, NLP, Geospatial Analysis</span>
            </div>
            <div class="project-external-links">
                <a href="https://github.com/Emmaxadel/tweet-analysis" target="_blank" class="btn btn-primary">
                    <i class="fab fa-github"></i> View on GitHub
                </a>
                <a href="https://github.com/Emmaxadel/tweet-analysis/blob/main/enhanced_sentiment_map_with_report_nigeria.html" target="_blank" class="btn btn-secondary">
                    <i class="fas fa-map-marked-alt"></i> View Interactive Map
                </a>
            </div>
        </div>
    </section>

    <!-- Project Overview -->
    <section class="project-section">
        <div class="container">
            <h2 class="section-title">Project Overview</h2>
            <div class="project-overview-content">
                <p>
                    This project presents a comprehensive sentiment analysis of malaria-related discussions on Twitter
                    across Nigeria. By scraping tweets from major Nigerian news outlets and applying natural language
                    processing techniques, the analysis identifies malaria hotspots and public sentiment patterns across
                    16 Nigerian states. The project combines web scraping, NLP, sentiment analysis, and geospatial
                    visualization to provide actionable insights for public health decision-making.
                </p>
                <h3>Key Objectives</h3>
                <ul>
                    <li>Scrape and analyze malaria-related tweets from major Nigerian news sources</li>
                    <li>Extract location data and perform named entity recognition (NER) on tweet content</li>
                    <li>Conduct sentiment analysis using VADER to classify public sentiment</li>
                    <li>Create interactive geospatial visualizations showing sentiment distribution across Nigeria</li>
                    <li>Identify states requiring urgent public health attention based on negative sentiment</li>
                    <li>Provide data-driven recommendations for malaria prevention and intervention programs</li>
                </ul>
                <h3>Technologies Used</h3>
                <div class="tech-stack">
                    <span class="tech-badge"><i class="fab fa-python"></i> Python</span>
                    <span class="tech-badge"><i class="fas fa-brain"></i> NLTK</span>
                    <span class="tech-badge"><i class="fas fa-comment-dots"></i> VADER Sentiment</span>
                    <span class="tech-badge"><i class="fas fa-table"></i> Pandas</span>
                    <span class="tech-badge"><i class="fas fa-map"></i> Folium</span>
                    <span class="tech-badge"><i class="fab fa-twitter"></i> Twikit</span>
                    <span class="tech-badge"><i class="fas fa-database"></i> Data Cleaning</span>
                    <span class="tech-badge"><i class="fas fa-globe-americas"></i> Geospatial Analysis</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Map Section -->
    <section class="project-section dashboard-section">
        <div class="container">
            <h2 class="section-title">Interactive Sentiment Map</h2>
            <p class="dashboard-description">
                The interactive map below visualizes malaria-related sentiment across 16 Nigerian states based on 
                Twitter data analysis. States are color-coded by sentiment (green for positive, orange for neutral, 
                red for negative), with detailed statistics available for each location. Click on state markers 
                to explore sentiment intensity, mention counts, and key findings.
            </p>
            <div class="dashboard-container">
                <iframe 
                    src="enhanced_sentiment_map_with_report_nigeria.html" 
                    frameborder="0" 
                    style="width: 100%; height: 600px; border: 2px solid #ddd; border-radius: 8px;"
                    allowFullScreen="true">
                </iframe>
                <p style="margin-top: 15px; text-align: center; color: #666;">
                    <i class="fas fa-info-circle"></i> Interactive map showing sentiment analysis across Nigerian states. 
                    Use zoom controls and click markers for detailed information.
                </p>
            </div>
        </div>
    </section>

    <!-- Key Insights -->
    <section class="project-section insights-section">
        <div class="container">
            <h2 class="section-title">Key Insights & Findings</h2>
            <div class="insights-grid">
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3>Geographic Coverage</h3>
                    <p>Analyzed 34 malaria-related mentions across 16 Nigerian states, with an average of 2.1 mentions per state, revealing widespread public discourse about malaria.</p>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <h3>Sentiment Distribution</h3>
                    <p>5 states showed positive sentiment (31%), 6 states neutral (38%), and 5 states negative (31%), indicating mixed public perception of malaria situation.</p>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h3>Critical Hotspots</h3>
                    <p>Lagos (7 mentions), Delta, Taraba, and Bauchi showed negative sentiment patterns, requiring immediate public health intervention and awareness campaigns.</p>
                </div>
                <div class="insight-card">
                    <div class="insight-icon">
                        <i class="fas fa-smile"></i>
                    </div>
                    <h3>Positive Indicators</h3>
                    <p>Jigawa (4 mentions), Oyo, Ekiti, Borno, and Anambra demonstrated positive sentiment, suggesting successful malaria prevention programs in these regions.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Methodology -->
    <section class="project-section">
        <div class="container">
            <h2 class="section-title">Methodology & Workflow</h2>
            <div class="project-overview-content">
                <h3>1. Data Collection</h3>
                <p>
                    Utilized the Twikit library to scrape tweets containing keywords "malaria," "mosquito," or "mosquitoes" 
                    from major Nigerian news outlets (Punch Newspapers, The Nation, Guardian Nigeria, Nigerian Tribune, 
                    Vanguard, Daily Post, The Sun Nigeria) from September 2023 onwards. Collected over 5,000 tweets with 
                    comprehensive metadata including timestamps, likes, retweets, and location data.
                </p>
                
                <h3>2. Named Entity Recognition & Location Extraction</h3>
                <p>
                    Applied NLTK's natural language processing capabilities to extract location entities from tweet text. 
                    Implemented custom filtering to remove irrelevant terms and mapped cities to their parent Nigerian states. 
                    Normalized location names and handled variations (e.g., "Lagos State" ‚Üí "LAGOS").
                </p>
                
                <h3>3. Sentiment Analysis</h3>
                <p>
                    Employed VADER (Valence Aware Dictionary and sEntiment Reasoner) sentiment analyzer to classify tweets 
                    as positive (compound score ‚â• 0.05), negative (‚â§ -0.05), or neutral. Preprocessed text by removing URLs, 
                    mentions, hashtags, and special characters to improve analysis accuracy.
                </p>
                
                <h3>4. Geospatial Visualization</h3>
                <p>
                    Created interactive maps using Folium library, centered on Nigeria (9.0820¬∞N, 8.6753¬∞E). Aggregated 
                    sentiment scores at state level and visualized using color-coded markers (green = positive, orange = neutral, 
                    red = negative) with custom popups displaying sentiment intensity, mention counts, and detailed statistics.
                </p>
            </div>
        </div>
    </section>

    <!-- Python Code Analysis -->
    <section class="project-section code-section">
        <div class="container">
            <h2 class="section-title">Python Analysis Code</h2>
            <p class="code-description">
                Below are key highlights from the Python code demonstrating the workflow: web scraping, NER, 
                sentiment analysis, and geospatial visualization. The complete code is available on GitHub.
            </p>
            
            <div class="code-container">
                <div class="code-header">
                    <span><i class="fab fa-python"></i> Python - Key Highlights</span>
                    <button class="copy-btn" onclick="copyCode()">
                        <i class="fas fa-copy"></i> Copy Code
                    </button>
                </div>
                <pre class="code-block"><code class="language-python" id="python-code"># Nigeria Malaria Sentiment Analysis - Key Code Highlights
# Twitter Data Scraping, NLP, and Geospatial Visualization

import pandas as pd
import nltk
from nltk import ne_chunk, pos_tag, word_tokenize
from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer
import folium
import re

# ============================================
# 1. DATA COLLECTION (Twitter Scraping)
# ============================================
from twikit import Client

QUERY = '(malaria OR mosquito OR mosquitoes) (from:MobilePunch OR from:TheNationNews...) since:2023-09-01'
client = Client(language='en-US')
# Scrape tweets from Nigerian news sources...

# ============================================
# 2. LOCATION EXTRACTION (NER)
# ============================================
def extract_locations(text):
    """Extract location entities using NLTK's Named Entity Recognition"""
    tokens = word_tokenize(text)
    pos_tags = pos_tag(tokens)
    chunks = ne_chunk(pos_tags, binary=False)
    
    locations = []
    for chunk in chunks:
        if isinstance(chunk, Tree) and chunk.label() == 'GPE':
            locations.append(' '.join([token for token, pos in chunk.leaves()]))
    return locations

df['extracted_locations'] = df['Text'].apply(extract_locations)

# ============================================
# 3. TEXT CLEANING
# ============================================
def clean_text(text):
    """Remove URLs, mentions, hashtags, and special characters"""
    text = re.sub(r'http\S+', '', text)
    text = re.sub(r'@\w+', '', text)
    text = re.sub(r'#', '', text)
    text = re.sub(r'[^A-Za-z\s]', '', text)
    return text

df['cleaned_text'] = df['Text'].apply(clean_text)

# ============================================
# 4. SENTIMENT ANALYSIS (VADER)
# ============================================
analyzer = SentimentIntensityAnalyzer()

def classify_vader_sentiment(text):
    """Classify sentiment using VADER compound score"""
    score = analyzer.polarity_scores(text)
    if score['compound'] >= 0.05:
        return 'good'
    elif score['compound'] <= -0.05:
        return 'bad'
    else:
        return 'neutral'

df['sentiment'] = df['cleaned_text'].apply(classify_vader_sentiment)

print("Sentiment Distribution:")
print(df['sentiment'].value_counts())

# ============================================
# 5. GEOCODING & COORDINATE MAPPING
# ============================================
nigerian_coordinates = {
    'LAGOS': (6.5244, 3.3792),
    'JIGAWA': (12.2289, 9.5616),
    'TARABA': (7.9999, 10.7739),
    'BAUCHI': (10.3158, 9.8442),
    'DELTA': (5.8903, 5.6803),
    # ... other states
}

def get_coordinates(location_str):
    """Map location names to geographic coordinates"""
    if pd.isna(location_str) or location_str == 'None':
        return (None, None)
    
    location = location_str.upper()
    return nigerian_coordinates.get(location, (None, None))

df['latitude'] = df['cleaned_locations'].apply(lambda x: get_coordinates(x)[0])
df['longitude'] = df['cleaned_locations'].apply(lambda x: get_coordinates(x)[1])

# ============================================
# 6. STATE-LEVEL AGGREGATION
# ============================================
sentiment_values = {'good': 1, 'neutral': 0, 'bad': -1}
df['sentiment_value'] = df['sentiment'].map(sentiment_values)

state_sentiment = df.groupby('cleaned_locations').agg({
    'sentiment': 'count',
    'sentiment_value': 'mean',
    'latitude': 'first',
    'longitude': 'first'
}).reset_index()

state_sentiment.rename(columns={'sentiment': 'mention_count'}, inplace=True)

# ============================================
# 7. INTERACTIVE MAP VISUALIZATION
# ============================================
m = folium.Map(location=[9.0820, 8.6753], zoom_start=6, tiles='OpenStreetMap')

sentiment_colors = {
    'good': '#27ae60',
    'neutral': '#f39c12',
    'bad': '#e74c3c'
}

# Add markers for each state
for idx, row in state_sentiment.iterrows():
    sentiment = row['average_sentiment']
    color = sentiment_colors[sentiment]
    
    popup_html = f"""
    <div style='font-family: Arial; width: 250px;'>
        <h4>üìç {row['cleaned_locations']}</h4>
        <p>
            <b>Sentiment:</b> {sentiment.upper()}<br>
            <b>Mentions:</b> {row['mention_count']}<br>
            <b>Intensity:</b> {abs(row['sentiment_value']):.2f}
        </p>
    </div>
    """
    
    folium.Marker(
        location=[row['latitude'], row['longitude']],
        popup=folium.Popup(popup_html, max_width=300),
        icon=folium.Icon(color='red' if sentiment == 'bad' else 
                        'orange' if sentiment == 'neutral' else 'green')
    ).add_to(m)

m.save('malaria_sentiment_map.html')

# ============================================
# 8. ANALYSIS SUMMARY
# ============================================
print("\nüìä ANALYSIS SUMMARY")
print(f"Total States: {len(state_sentiment)}")
print(f"Total Mentions: {state_sentiment['mention_count'].sum()}")
print(f"\nSentiment Distribution:")
print(f"Positive: {len(state_sentiment[state_sentiment['average_sentiment']=='good'])} states")
print(f"Neutral: {len(state_sentiment[state_sentiment['average_sentiment']=='neutral'])} states")
print(f"Negative: {len(state_sentiment[state_sentiment['average_sentiment']=='bad'])} states")
</code></pre>
            </div>
        </div>
    </section>

    <!-- Recommendations -->
    <section class="project-section recommendations-section">
        <div class="container">
            <h2 class="section-title">Public Health Recommendations</h2>
            <div class="recommendations-list">
                <div class="recommendation-item">
                    <div class="recommendation-number">01</div>
                    <div class="recommendation-content">
                        <h3>Targeted Intervention for High-Risk States</h3>
                        <p>Prioritize malaria prevention programs in Lagos, Delta, Taraba, and Bauchi based on negative sentiment patterns. Deploy additional mosquito nets, conduct awareness campaigns, and increase healthcare facility capacity in these states.</p>
                    </div>
                </div>
                <div class="recommendation-item">
                    <div class="recommendation-number">02</div>
                    <div class="recommendation-content">
                        <h3>Best Practice Replication</h3>
                        <p>Study and replicate successful malaria prevention strategies from Jigawa, Oyo, and Ekiti (positive sentiment states) to other regions. Document effective community engagement, distribution methods, and healthcare protocols.</p>
                    </div>
                </div>
                <div class="recommendation-item">
                    <div class="recommendation-number">03</div>
                    <div class="recommendation-content">
                        <h3>Social Media Monitoring System</h3>
                        <p>Establish a real-time social media monitoring system to track malaria discourse, identify emerging hotspots early, and respond rapidly to public concerns. Use sentiment trends as early warning indicators.</p>
                    </div>
                </div>
                <div class="recommendation-item">
                    <div class="recommendation-number">04</div>
                    <div class="recommendation-content">
                        <h3>Public Awareness Campaign</h3>
                        <p>Launch targeted information campaigns in states with neutral sentiment to shift public perception toward positive action. Focus on prevention education, treatment availability, and success stories from high-performing states.</p>
                    </div>
                </div>
                <div class="recommendation-item">
                    <div class="recommendation-number">05</div>
                    <div class="recommendation-content">
                        <h3>Seasonal Preparedness</h3>
                        <p>Analyze temporal patterns in malaria discussions to prepare for seasonal spikes. Pre-position resources and intensify prevention measures during rainy seasons when mosquito populations increase.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Technical Challenges -->
    <section class="project-section">
        <div class="container">
            <h2 class="section-title">Technical Challenges & Solutions</h2>
            <div class="project-overview-content">
                <div class="insight-card">
                    <h3><i class="fas fa-database"></i> Data Collection Rate Limits</h3>
                    <p><strong>Challenge:</strong> Twitter API rate limits restricted data collection speed.</p>
                    <p><strong>Solution:</strong> Implemented intelligent wait mechanisms and retry logic to handle TooManyRequests exceptions, ensuring continuous data collection without API violations.</p>
                </div>
                
                <div class="insight-card">
                    <h3><i class="fas fa-map-pin"></i> Location Ambiguity</h3>
                    <p><strong>Challenge:</strong> Many tweets lacked explicit location information or contained ambiguous references.</p>
                    <p><strong>Solution:</strong> Combined profile location data with NER-extracted locations, created comprehensive city-to-state mappings, and filtered irrelevant terms to improve accuracy.</p>
                </div>
                
                <div class="insight-card">
                    <h3><i class="fas fa-brain"></i> Sentiment Context Sensitivity</h3>
                    <p><strong>Challenge:</strong> Medical discussions can be contextually complex, requiring nuanced sentiment interpretation.</p>
                    <p><strong>Solution:</strong> Used VADER's compound score with carefully calibrated thresholds (¬±0.05) to distinguish between genuinely positive/negative content and neutral medical reporting.</p>
                </div>
                
                <div class="insight-card">
                    <h3><i class="fas fa-chart-area"></i> State-Level Aggregation</h3>
                    <p><strong>Challenge:</strong> Aggregating individual tweets to state-level insights while preserving sentiment nuances.</p>
                    <p><strong>Solution:</strong> Implemented weighted averaging of sentiment scores, tracking both mention counts and sentiment intensity to provide comprehensive state-level assessments.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Emmanuel Adeleye. All rights reserved.</p>
            <p>Built with passion for data science and public health.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script>
        function copyCode() {
            const code = document.getElementById('python-code').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.querySelector('.copy-btn');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                }, 2000);
            });
        }
    </script>
</body>
</html>
